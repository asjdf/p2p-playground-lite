# P2P Playground Controller Configuration

node:
  # P2P listening addresses
  listen_addrs:
    - /ip4/0.0.0.0/tcp/9001
    - /ip4/0.0.0.0/udp/9001/quic

  # Enable mDNS for local network discovery (default: true)
  enable_mdns: true

  # Bootstrap peers for initial connection (optional)
  # If not specified and DHT is enabled, will use default IPFS bootstrap nodes
  bootstrap_peers: []
  # Example custom bootstrap peers:
  # bootstrap_peers:
  #   - /ip4/104.131.131.82/tcp/4001/p2p/QmaCpDMGvV2BGHeYERUEnRQAwe3N8SzbUtfsmvsqQLuvuJ
  #   - /dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN

  # Disable DHT for peer discovery (default: false, DHT is enabled by default)
  # Set to true if you only want to use mDNS for local network discovery
  disable_dht: false

  # DHT mode: "client" or "server" (default: "server")
  # Use "client" for nodes behind NAT that don't need to serve DHT queries
  # Use "server" for nodes with public IP or relay capability
  dht_mode: server

  # Disable NAT traversal service (default: false)
  disable_nat_service: false

  # Disable automatic relay for NAT traversal (default: false)
  disable_auto_relay: false

  # Disable hole punching for direct connections (default: false)
  disable_hole_punching: false

storage:
  # Base directory for controller data
  data_dir: ~/.p2p-playground-controller

  # Package storage directory
  packages_dir: ~/.p2p-playground-controller/packages

  # Cryptographic keys directory
  keys_dir: ~/.p2p-playground-controller/keys

logging:
  # Log level: debug, info, warn, error
  level: info

  # Log format: json, console
  format: console

  # Output path (stdout or file path)
  output_path: stdout

  # Error output path (stderr or file path)
  error_output_path: stderr

security:
  # Enable authentication
  enable_auth: false

  # Authentication method: psk, cert
  auth_method: psk

  # Pre-shared key (for PSK auth)
  psk: ""

  # Allow deploying unsigned packages (false = reject unsigned packages, recommended for production)
  allow_unsigned_packages: false

deployment:
  # Default deployment strategy: immediate, graceful, manual
  default_strategy: immediate

  # Deployment timeout
  timeout: 5m

  # Retry attempts on failure
  retry_attempts: 3

  # Delay between retries
  retry_delay: 10s
